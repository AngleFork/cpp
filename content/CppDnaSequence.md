
 

 

 

 

 

([C++](Cpp.md)) [DnaSequence](CppDnaSequence.md)
==================================================

 

Technical facts
---------------

 

 

 

 

 

 

./CppDnaSequence/CppDnaSequence.pri
-----------------------------------

 

  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` INCLUDEPATH += \     ../../Classes/CppDnaSequence  SOURCES += \     ../../Classes/CppDnaSequence/dnasequence.cpp \     ../../Classes/CppDnaSequence/dnasequence_test.cpp  HEADERS  += \     ../../Classes/CppDnaSequence/dnasequence.h  OTHER_FILES += \     ../../Classes/CppDnaSequence/Licence.txt`
  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

./CppDnaSequence/dnasequence.h
------------------------------

 

  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` #ifndef RIBI_DNASEQUENCE_H #define RIBI_DNASEQUENCE_H  #include <string>  namespace ribi {  struct DnaSequence {   explicit DnaSequence(const std::string& description, const std::string& sequence);    const std::string& GetDescription() const noexcept { return m_description; }   const std::string& GetSequence() const noexcept { return m_sequence; }    private:   const std::string m_description;   const std::string m_sequence;    #ifndef NDEBUG   static void Test() noexcept;   #endif };  bool operator==(const DnaSequence& lhs, const DnaSequence& rhs) noexcept; bool operator!=(const DnaSequence& lhs, const DnaSequence& rhs) noexcept;  } //~namespace ribi #endif // RIBI_DNASEQUENCE_H`
  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

./CppDnaSequence/dnasequence.cpp
--------------------------------

 

  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` #include "dnasequence.h"  #include <algorithm> #include <cassert> #include <sstream> #include <stdexcept>  ribi::DnaSequence::DnaSequence(const std::string& description, const std::string& sequence)   : m_description{description},     m_sequence{sequence} {   #ifndef NDEBUG   Test();   #endif   const auto iter = std::find_if_not(     std::begin(m_sequence),     std::end(m_sequence),     [](const char c) { return c == 'A' || c == 'C' ||  c == 'G' ||  c == 'T'; }   );   if (iter != std::end(m_sequence))   {     std::stringstream s;     s << "Sequence::Sequence: sequence can only contain the characters 'A','C','G','T'";     throw std::logic_error(s.str().c_str());   } }   bool ribi::operator==(const DnaSequence& lhs, const DnaSequence& rhs) noexcept {   return     lhs.GetDescription() == rhs.GetDescription()     && lhs.GetSequence() == rhs.GetSequence()   ; }  bool ribi::operator!=(const DnaSequence& lhs, const DnaSequence& rhs) noexcept {   return !(lhs == rhs); }`
  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

./CppDnaSequence/dnasequence\_test.cpp
--------------------------------------

 

  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` #include "dnasequence.h"  #include <cassert> #include <stdexcept>  #ifndef NDEBUG void ribi::DnaSequence::Test() noexcept {   {     static bool is_tested {false};     if (is_tested) return;     is_tested = true;   }   //Recovery of parameters   {     const std::string description{"description"};     const std::string sequence{"ACGT"};     const DnaSequence s(description,sequence);     assert(s.GetDescription() == description);     assert(s.GetSequence() == sequence);   }   //operator==   {     const std::string description{"description"};     const std::string sequence{"ACGT"};     const DnaSequence s(description,sequence);     const DnaSequence t(description,sequence);     assert(s == t);   }   //operator!= on different description   {     const std::string sequence{"ACGT"};     const DnaSequence s("description1",sequence);     const DnaSequence t("description2",sequence);     assert(s != t);   }   //operator!= on different sequence   {     const std::string description{"description"};     const DnaSequence s(description,"ACGT");     const DnaSequence t(description,"ACGTT");     assert(s != t);   }   {     try     {       DnaSequence s("description","incorrect_sequence");       assert(!"Should not get here");     }     catch (std::logic_error&)     {       //Well detected!     }   } } #endif`
  ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

 

