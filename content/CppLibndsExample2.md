



 

 

 

 

 

([C++](Cpp.md)) [LibndsExample2](CppLibndsExample2.md)
========================================================

 

./CppLibndsExample2/source/CppLibndsExample2.pro
------------------------------------------------

 

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` message("Compiling this will fail, use the Makefile instead")  INCLUDEPATH += /home/richel/devkitPro/libnds/include INCLUDEPATH += /home/richel/devkitPro/devkitARM/arm-none-eabi/include LIBS += -L/home/richel/devkitPro/devkitARM/arm-none-eabi/lib -lstdc++ LIBS += -L/home/richel/devkitPro/libnds/lib -lnds9 -lmm9 -lfat -lfilesystem -ldswifi9 DEFINES += ARM9 CONFIG   += console CONFIG -= qt CONFIG   -= app_bundle TEMPLATE = app SOURCES += main.cpp QMAKE_CC  = /home/richel/devkitPro/devkitARM/bin/arm-none-eabi-gcc QMAKE_CXX = /home/richel/devkitPro/devkitARM/bin/arm-none-eabi-g++ QMAKE_CXXFLAGS = -MMD -MP -MF -mm -g -mthumb -mthumb-interwork QMAKE_LINK = /home/richel/devkitPro/devkitARM/bin/arm-none-eabi-g++ QMAKE_LFLAGS = -T/home/richel/devkitPro/devkitARM/arm-none-eabi/lib/ds_arm9.ld QMAKE_LINK = /home/richel/devkitPro/devkitARM/bin/arm-none-eabi-gcc`
  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

./CppLibndsExample2/source/main.cpp
-----------------------------------

 

  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` //Example that shows: // - graphical font at lower screen // - empty console at top screen (no idea how to use it) // - use of STL  #include <nds.h> #include <iostream>  #include <nds.h>  #include <cstdio>  //Include the font header generated by grit #include "font.h"  int main() {   powerOn(POWER_ALL_2D);    const int tile_base = 0;   const int map_base = 20;     videoSetModeSub(MODE_0_2D);   videoSetMode(MODE_0_2D);   vramSetBankC(VRAM_C_SUB_BG);    PrintConsole * bottom_screen     = consoleInit(       nullptr,       0,       BgType_Text4bpp,       BgSize_T_256x256,       map_base,       tile_base,       false,       false   );    ConsoleFont font;    font.gfx = const_cast<u16*>(reinterpret_cast<const u16*>(fontTiles));   font.pal = const_cast<u16*>(fontPal);   font.numChars = 95;   font.numColors =  fontPalLen / 2;   font.bpp = 4;   font.asciiOffset = 32;   font.convertSingleColor = false;    consoleSetFont(bottom_screen, &font);    std::cout     << "Use of a custom font\n"     << "Adapted from libnds\n"     << "custom_font demo"   ;    while(1) {     swiWaitForVBlank();   } }`
  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

./CppLibndsExample2/build/font.h
--------------------------------

 

  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  `  //{{BLOCK(font)  //====================================================================== // //  font, 8x768@4,  //  + palette 16 entries, not compressed //  + 96 tiles not compressed //  Total size: 32 + 3072 = 3104 // //  Time-stamp: 2015-08-02, 13:12:16 //  Exported by Cearn's GBA Image Transmogrifier, v0.8.12 //  ( http://www.coranac.com/projects/#grit ) // //======================================================================  #ifndef GRIT_FONT_H #define GRIT_FONT_H  #define fontTilesLen 3072 extern const unsigned int fontTiles[768];  #define fontPalLen 32 extern const unsigned short fontPal[16];  #endif // GRIT_FONT_H  //}}BLOCK(font)`
  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 





 




This page has been created by the [tool](Tools.md)
[CodeToHtml](ToolCodeToHtml.md)
