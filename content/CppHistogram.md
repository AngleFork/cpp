
 

 

 

 

 

([C++](Cpp.md)) [Histogram](CppHistogram.md)
==============================================

 

Technical facts
---------------

 

 

 

 

 

 

./CppHistogram/CppHistogram.pri
-------------------------------

 

  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` INCLUDEPATH += \     ../../Classes/CppHistogram  SOURCES += \     ../../Classes/CppHistogram/histogram.cpp  HEADERS  += \     ../../Classes/CppHistogram/histogram.h  OTHER_FILES += \     ../../Classes/CppHistogram/Licence.txt`
  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

./CppHistogram/histogram.h
--------------------------

 

  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` #ifndef RIBI_HISTOGRAM_H #define RIBI_HISTOGRAM_H  #include <vector>  struct HistogramCategory {   HistogramCategory(const double min, const double max, const int cnt);   int GetCnt() const noexcept { return m_cnt; }   double GetMid() const noexcept { return (m_min + m_max) / 2.0; }   double GetMin() const noexcept { return m_min; }   double GetMax() const noexcept { return m_max; }   bool IsInRange(const double x) { return x >= m_min && x < m_max; }   private:   const double m_min;   const double m_max; //Non inclusive   const int m_cnt; };  struct Histogram {   Histogram(     const std::vector<double>& v,     const double lowest, const double highest, const int n   );   const std::vector<HistogramCategory>& GetHistogram() const noexcept { return m_v; }   private:   std::vector<HistogramCategory> m_v; };  #endif // RIBI_HISTOGRAM_H`
  ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

./CppHistogram/histogram.cpp
----------------------------

 

  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` #include "histogram.h"  #include <algorithm> #include <cassert> #include <sstream>  HistogramCategory::HistogramCategory(const double min, const double max, const int cnt)   : m_min{min}, m_max{max}, m_cnt{cnt} {   assert(m_min < m_max); }   Histogram::Histogram(   const std::vector<double>& v,   const double lowest, const double highest, const int n )   : m_v{} {   //const int sz{static_cast<int>(v.size())};   //const int n{1+static_cast<int>(std::sqrt(static_cast<double>(sz)))};   //const double lowest{*std::min_element(std::begin(v),std::end(v))};   //const double highest{*std::max_element(std::begin(v),std::end(v))};   const double total_range{highest-lowest};   const double category_width{total_range/static_cast<double>(n)};   for (int i=0; i!=n; ++i)   {     const double min{lowest + (static_cast<double>(i + 0) * category_width)};     const double max{lowest + (static_cast<double>(i + 1) * category_width)};     const int n_values{       std::count_if(std::begin(v),std::end(v),         [min,max](const double x) { return x >= min && x < max; }       )     };     m_v.push_back(HistogramCategory(min,max,n_values));   }  }  std::ostream& operator<<(std::ostream& os, const Histogram& h) {   std::stringstream s;   for (const HistogramCategory& c: h.GetHistogram())   {     s << "[" << c.GetMin() << "," << c.GetMax() << "): " << c.GetCnt() << '\n';   }   std::string t{s.str()};   if (!t.empty()) t.pop_back();   os << t;   return os; }`
  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

 

This page has been created by the [tool](Tools.md)
[CodeToHtml](ToolCodeToHtml.md)
