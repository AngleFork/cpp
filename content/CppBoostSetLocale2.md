
 

 

 

 

 

([C++](Cpp.md)) [BoostSetLocale2](CppBoostSetLocale2.md)
==========================================================

 

Technical facts
---------------

 

[Operating system(s) or programming environment(s)](CppOs.md)

-   ![Lubuntu](PicLubuntu.png) [Lubuntu](CppLubuntu.md) 15.04 (vivid)

[IDE(s)](CppIde.md):

-   ![Qt Creator](PicQtCreator.png) [Qt Creator](CppQtCreator.md) 3.1.1

[Project type](CppQtProjectType.md):

-   ![console](PicConsole.png) [Console
    application](CppConsoleApplication.md)

[C++ standard](CppStandard.md):

-   ![C++98](PicCpp98.png) [C++98](Cpp98.md)

[Compiler(s)](CppCompiler.md):

-   [G++](CppGpp.md) 4.9.2

[Libraries](CppLibrary.md) used:

-   ![Boost](PicBoost.png) [Boost](CppBoost.md): version 1.55
-   ![STL](PicStl.png) [STL](CppStl.md): GNU ISO C++ Library, version
    4.9.2

 

 

 

 

 

[Qt project file](CppQtProjectFile.md): ./CppBoostSetLocale2/CppBoostSetLocale2.pro
------------------------------------------------------------------------------------

 

  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` include(../../ConsoleApplication.pri) #Or use the code below include(../../Libraries/Boost.pri) #Or use the code below  SOURCES += main.cpp LIBS += -lboost_locale`
  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

./CppBoostSetLocale2/main.cpp
-----------------------------

 

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` #include <boost/locale.hpp> #include <boost/math/constants/constants.hpp>  int main() {   std::cout << "Current locale: " << std::locale().name() << std::endl;   assert(std::locale().name() == "C");    //It was observed in a Qt Desktop environment that   //pi converted to a string as '3,14...', probably because   //some locale was set to Dutch.   //   //In a console environment, however, it appears not to fail, as if   //there is no locale set    const double pi = boost::math::constants::pi<double>();    boost::locale::generator gen;    //Default (which is English)   {     std::locale::global(gen(""));     //std::cout << "Current locale: " << std::locale().name() << std::endl;     assert(std::locale().name() == "*");      const std::string pi_str_boost{boost::lexical_cast<std::string>(pi)};     assert(pi_str_boost[1] == '.' && "Default (English) please");   }   //English (which is the same as the default)   {     std::locale::global(gen("en_US.UTF-8"));     //std::cout << "Current locale: " << std::locale().name() << std::endl;     assert(std::locale().name() == "*");     const std::string pi_str_boost{boost::lexical_cast<std::string>(pi)};     assert(pi_str_boost[1] == '.' && "English please");   }    //German   try   {     std::locale::global(std::locale("de_DE.UTF-8"));     assert(std::locale().name() == "*");     //std::cout << "Current locale: " << std::locale().name() << std::endl;     const std::string pi_str_boost{boost::lexical_cast<std::string>(pi)};     assert(pi_str_boost[1] == ',' && "German please");   }   catch (std::runtime_error&)   {     std::cout << "?German unknown locale" << std::endl;   }    //Dutch   const auto my_locale = std::locale("nl_NL.UTF-8");   std::locale::global(my_locale);   assert(std::locale().name() == "nl_NL.UTF-8");   std::cout << "Current locale: " << std::locale().name() << std::endl;    const std::string pi_str_boost{boost::lexical_cast<std::string>(pi)};   assert(pi_str_boost[1] == ',' && "Dutch please");   std::cout << "Pi in Dutch (should have a comma): " << pi_str_boost << std::endl; }`
  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

 

