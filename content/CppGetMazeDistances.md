[Go back to Richel Bilderbeek's homepage](index.htm).

[Go back to Richel Bilderbeek's C++ page](Cpp.htm).

 

 

 

 

 

([C++](Cpp.htm)) [GetMazeDistances](CppGetMazeDistances.htm)
============================================================

 

[GetMazeDistances](CppGetMazeDistances.htm) is a [maze](CppMaze.htm)
[code snippet](CppCodeSnippets.htm) to calculate the distances of all
squares to the exit of a maze (for example one created with
[CreateMaze](CppCreateMaze.htm)/[CreateSloppyMaze](CppCreateSloppyMaze.htm))
Walls are given the highest possible value. If the
[algorithm](CppAlgorithm.htm) below is too confusing, For a perhaps more
straightforward, though slower [algorithm](CppAlgorithm.htm), view
[GetMazeDistancesSlow](CppGetMazeDistancesSlow.htm).

 

 

 

 

 

Project and source code
-----------------------

 

Operating system: [Ubuntu](http://www.ubuntu.com) 10.04 LTS Lucid Lynx

[IDE](CppIde.htm): [Qt Creator](CppQt.htm) 2.0.0

[Project type](CppQtProjectType.htm): Qt4 [GUI](CppGui.htm) Application

[Compiler](CppCompiler.htm): [G++](CppGpp.htm) 4.4.1

[Libraries](CppLibrary.htm) used:

-   [Qt](CppQt.htm): version 4.7.0 (32 bit)
-   [STL](CppStl.htm): from [GCC](CppGcc.htm), shipped with [Qt
    Creator](CppQt.htm) 2.0.0

 

 

 

 

 

  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` #include <vector> #include <assert>  //From http://www.richelbilderbeek.nl/GetMazeDistances.htm std::vector<std::vector<int> > GetMazeDistances(   const std::vector<std::vector<int> >& maze,   const int x,   const int y) {   //Assume maze is square   assert(maze[0].size() == maze.size());   assert(maze[y][x] == 0); //Assume starting point is no wall    const int size = maze.size();   const int area = size * size;   const int maxDistance = area;   std::vector<std::vector<int> > distances(size, std::vector<int>(size,maxDistance));   std::vector<std::vector<int> > distances(size, std::vector<int>(size,maxDistance));   {     //Calculate the distances     int distance = 0;     distances[y][x] = 0; //Set final point     std::vector< std::pair<int,int> > found;     found.push_back(std::make_pair(x,y));      while(found.empty() == false)     {       ++distance;       std::vector< std::pair<int,int> > newFound;        const std::vector< std::pair<int,int> >::iterator j = found.end();       for (std::vector< std::pair<int,int> >::iterator i = found.begin(); i!=j; ++i)       for (std::vector< std::pair<int,int> >::iterator i = found.begin(); i!=j; ++i)       {         const int x = (*i).first;         const int y = (*i).second;          if ( maze[y-1][x] == 0                 //No wall           && distances[y-1][x] == maxDistance) //Not already in solution         {           distances[y-1][x] = distance;           newFound.push_back(std::make_pair(x,y-1));         }         if ( maze[y+1][x] == 0                 //No wall           && distances[y+1][x] == maxDistance) //Not already in solution         {           distances[y+1][x] = distance;           newFound.push_back(std::make_pair(x,y+1));         }          if ( maze[y][x+1] == 0                 //No wall           && distances[y][x+1] == maxDistance) //Not already in solution         {           distances[y][x+1] = distance;           newFound.push_back(std::make_pair(x+1,y));         }          if ( maze[y][x-1] == 0                 //No wall           && distances[y][x-1] == maxDistance) //Not already in solution         {           distances[y][x-1] = distance;           newFound.push_back(std::make_pair(x-1,y));         }        }       found = newFound;     }   }   return distances; } `
  --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

[Go back to Richel Bilderbeek's C++ page](Cpp.htm).

[Go back to Richel Bilderbeek's homepage](index.htm).

 

[![Valid XHTML 1.0 Strict](valid-xhtml10.png){width="88"
height="31"}](http://validator.w3.org/check?uri=referer)
