[Go back to Richel Bilderbeek's homepage](index.htm).

[Go back to Richel Bilderbeek's C++ page](Cpp.htm).

 

 

 

 

 

([C++](Cpp.htm)) [QtLizardPaperRockScissorsSpockSimulation](CppQtLizardPaperRockScissorsSpockSimulation.htm)
============================================================================================================

 

Technical facts
---------------

 

 

 

 

 

 

./CppQtLizardPaperRockScissorsSpockSimulation/CppQtLizardPaperRockScissorsSpockSimulation.pri
---------------------------------------------------------------------------------------------

 

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` INCLUDEPATH += \     ../../Classes/CppQtLizardPaperRockScissorsSpockSimulation  SOURCES += \     ../../Classes/CppQtLizardPaperRockScissorsSpockSimulation/qtlizardpaperrockscissorsspockwidget.cpp  HEADERS  += \     ../../Classes/CppQtLizardPaperRockScissorsSpockSimulation/qtlizardpaperrockscissorsspockwidget.h  FORMS  += \     ../../Classes/CppQtLizardPaperRockScissorsSpockSimulation/qtlizardpaperrockscissorsspockwidget.ui  OTHER_FILES += \     ../../Classes/CppQtLizardPaperRockScissorsSpockSimulation/Licence.txt`
  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

./CppQtLizardPaperRockScissorsSpockSimulation/qtlizardpaperrockscissorsspockwidget.h
------------------------------------------------------------------------------------

 

  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` #ifndef QTLIZARDPAPERROCKSCISSORSSPOCKWIDGET_H #define QTLIZARDPAPERROCKSCISSORSSPOCKWIDGET_H  #include <QWidget> #include <QPixmap>  #include "lizardpaperrockscissorsspocksimulation.h"  namespace Ui {   class QtLizardPaperRockScissorsSpockWidget; }  struct QImage;  class QtLizardPaperRockScissorsSpockWidget : public QWidget {   Q_OBJECT  public:   using Init = ribi::lprss::Simulation::Initialization;    explicit QtLizardPaperRockScissorsSpockWidget(     const int width = 300,     const int height = 200,     const Init initialization = Init::random,     QWidget *parent = 0   );   QtLizardPaperRockScissorsSpockWidget(const QtLizardPaperRockScissorsSpockWidget&) = delete;   QtLizardPaperRockScissorsSpockWidget& operator=(const QtLizardPaperRockScissorsSpockWidget&) = delete;   ~QtLizardPaperRockScissorsSpockWidget();    void SetAll(     const int width,     const int height,     const Init initialization   );  protected:   void paintEvent(QPaintEvent *); private:   Ui::QtLizardPaperRockScissorsSpockWidget *ui;   QPixmap m_pixmap;   ribi::lprss::Simulation m_simulation;  private slots:   void OnTimer(); };  #endif // QTLIZARDPAPERROCKSCISSORSSPOCKWIDGET_H`
  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

./CppQtLizardPaperRockScissorsSpockSimulation/qtlizardpaperrockscissorsspockwidget.cpp
--------------------------------------------------------------------------------------

 

  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  ` #include "qtlizardpaperrockscissorsspockwidget.h"  #include <QImage> #include <QPainter> #include <QPixmap> #include <QTimer>  #include "lizardpaperrockscissorsspocksimulation.h" #include "ui_qtlizardpaperrockscissorsspockwidget.h"  QtLizardPaperRockScissorsSpockWidget::QtLizardPaperRockScissorsSpockWidget(   const int width,   const int height,   const ribi::lprss::Simulation::Initialization initialization,   QWidget *parent )   : QWidget(parent),     ui(new Ui::QtLizardPaperRockScissorsSpockWidget),     m_pixmap{QPixmap(width,height)},     m_simulation{ribi::lprss::Simulation(width,height,initialization)} {   ui->setupUi(this);   OnTimer();   //Start a timer   {     QTimer * const timer{new QTimer(this)};     QObject::connect(timer,SIGNAL(timeout()),this,SLOT(OnTimer()));     timer->setInterval(1);     timer->start();   } }  QtLizardPaperRockScissorsSpockWidget::~QtLizardPaperRockScissorsSpockWidget() {   delete ui; }  void QtLizardPaperRockScissorsSpockWidget::OnTimer() {   using CellType = ribi::LizardPaperRockScissorsSpock;    m_simulation.Next();    const int height{m_pixmap.height()};   const int width{m_pixmap.width()};   QImage image(width,height,QImage::Format_RGB32);   const auto& grid = m_simulation.GetGrid();   for (int y=0; y!=height; ++y)   {     for (int x=0; x!=width; ++x)     {       const auto celltype = grid[y][x];       auto color = qRgb(0,0,0);       const int high{196};       switch (celltype)       {         case CellType::lizard: color = qRgb(0,high,0); break;         case CellType::paper: color = qRgb(high,high,0); break;         case CellType::rock: color = qRgb(high,0,0); break;         case CellType::scissors: color = qRgb(high,0,high); break;         case CellType::spock: color = qRgb(0,0,high); break;       }       image.setPixel(x,y,color);     }   }   m_pixmap = QPixmap::fromImage(image);   update(); }  void QtLizardPaperRockScissorsSpockWidget::paintEvent(QPaintEvent *) {   QPainter painter(this);   painter.drawPixmap(     this->rect(),     m_pixmap   ); }  void QtLizardPaperRockScissorsSpockWidget::SetAll(   const int width,   const int height,   const Init initialization ) {   m_pixmap = QPixmap(width,height);   m_simulation = ribi::lprss::Simulation(     width,     height,     initialization   );   update(); }`
  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 

 

 

 

 

[Go back to Richel Bilderbeek's C++ page](Cpp.htm).

[Go back to Richel Bilderbeek's homepage](index.htm).

 

[![Valid XHTML 1.0 Strict](valid-xhtml10.png){width="88"
height="31"}](http://validator.w3.org/check?uri=referer)

This page has been created by the [tool](Tools.htm)
[CodeToHtml](ToolCodeToHtml.htm)
